// Ion.RangeSlider
// version 1.8.2
// https://github.com/IonDen/ion.rangeSlider
!function(t,e,o,s){"use strict";var n=0,r=function(){var t,e=s.userAgent,o=/msie\s\d+/i;return e.search(o)>0&&(t=o.exec(e).toString(),t=t.split(" ")[1],9>t)?!0:!1}(),i=function(){try{return e.createEvent("TouchEvent"),!0}catch(t){return!1}}(),a={init:function(s){var a='<span class="irs"><span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>',p='<span class="irs-slider single"></span>',l='<span class="irs-diapason"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>';return this.each(function(){var f=t.extend({min:10,max:100,from:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:!1,hideMinMax:!1,hideFromTo:!1,prettify:!0,onChange:null,onLoad:null,onFinish:null},s),u=t(this),d=this;if(!u.data("isActive")){u.data("isActive",!0),n+=1,this.pluginCount=n,u.prop("value")&&(f.min=parseInt(u.prop("value").split(";")[0],10),f.max=parseInt(u.prop("value").split(";")[1],10)),"number"!=typeof f.from&&(f.from=f.min),"number"!=typeof f.to&&(f.to=f.max),"number"==typeof u.data("from")&&(f.from=parseFloat(u.data("from"))),"number"==typeof u.data("to")&&(f.to=parseFloat(u.data("to"))),u.data("step")&&(f.step=parseFloat(u.data("step"))),u.data("type")&&(f.type=u.data("type")),u.data("prefix")&&(f.prefix=u.data("prefix")),u.data("postfix")&&(f.postfix=u.data("postfix")),u.data("hasgrid")&&(f.hasGrid=u.data("hasgrid")),u.data("hideminmax")&&(f.hideMinMax=u.data("hideminmax")),u.data("hidefromto")&&(f.hideFromTo=u.data("hidefromto")),u.data("prettify")&&(f.prettify=u.data("prettify")),f.from<f.min&&(f.from=f.min),f.to>f.max&&(f.to=f.max),"double"===f.type&&(f.from>f.to&&(f.from=f.to),f.to<f.from&&(f.to=f.from));var m=function(t){var e=t.toString();return f.prettify&&(e=e.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")),e},h='<span class="irs" id="irs-'+this.pluginCount+'"></span>';u[0].style.display="none",u.before(h);var c,y,x,g,v,b,X,M,N,C,P,I,w=t("#irs-"+this.pluginCount),F=t(e.body),_=t(o),D=!1,T=!1,W=!0,k={},A=0,S=0,E=0,j=0,G=0,L=0,Q=0,R=0,$=0,q=0,z=0;parseInt(f.step,10)!==parseFloat(f.step)&&(z=f.step.toString().split(".")[1],z=Math.pow(10,z.length)),this.updateData=function(e){W=!0,f=t.extend(f,e),B()},this.removeSlider=function(){w.find("*").off(),_.off("mouseup.irs"+d.pluginCount),F.off("mouseup.irs"+d.pluginCount),F.off("mousemove.irs"+d.pluginCount),w.html("").remove(),u.data("isActive",!1),u.show()};var B=function(){w.find("*").off(),_.off("mouseup.irs"+d.pluginCount),F.off("mouseup.irs"+d.pluginCount),F.off("mousemove.irs"+d.pluginCount),w.html(""),H()},H=function(){w.html(a),c=w.find(".irs"),y=c.find(".irs-min"),x=c.find(".irs-max"),g=c.find(".irs-from"),v=c.find(".irs-to"),b=c.find(".irs-single"),I=w.find(".irs-grid"),f.hideMinMax&&(y[0].style.display="none",x[0].style.display="none",S=0,E=0),f.hideFromTo&&(g[0].style.display="none",v[0].style.display="none",b[0].style.display="none"),f.hideMinMax||(y.html(f.prefix+m(f.min)+f.postfix),x.html(f.prefix+m(f.max)+f.postfix),S=y.outerWidth(),E=x.outerWidth()),"single"===f.type?(c.append(p),X=c.find(".single"),X.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),K(e,t(this),null),D=!0,T=!0,r&&t("*").prop("unselectable",!0)}),i&&X.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),K(e.originalEvent.touches[0],t(this),null),D=!0,T=!0})):"double"===f.type&&(c.append(l),M=c.find(".from"),N=c.find(".to"),P=c.find(".irs-diapason"),O(),M.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),N.removeClass("last"),K(e,t(this),"from"),D=!0,T=!0,r&&t("*").prop("unselectable",!0)}),N.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),M.removeClass("last"),K(e,t(this),"to"),D=!0,T=!0,r&&t("*").prop("unselectable",!0)}),P.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),K(e,t(this),"diapason"),D=!0,T=!0}),i&&(M.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),N.removeClass("last"),K(e.originalEvent.touches[0],t(this),"from"),D=!0,T=!0}),N.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),M.removeClass("last"),K(e.originalEvent.touches[0],t(this),"to"),D=!0,T=!0})),f.to===f.max&&M.addClass("last"));var e=function(){D&&(T=!1,D=!1,C.removeAttr("id"),C=null,"double"===f.type&&O(),V(),r&&t("*").prop("unselectable",!1))};F.on("mouseup.irs"+d.pluginCount,function(){e()}),_.on("mouseup.irs"+d.pluginCount,function(){e()}),F.on("mousemove.irs"+d.pluginCount,function(t){D&&(A=t.pageX,U())}),i&&(_.on("touchend",function(){D&&(T=!1,D=!1,C.removeAttr("id"),C=null,"double"===f.type&&O(),V())}),_.on("touchmove",function(t){D&&(A=t.originalEvent.touches[0].pageX,U())})),J(),Y(),f.hasGrid&&te()},J=function(){j=c.width(),L=X?X.width():M.width(),G=j-L},K=function(t,e,o){J(),W=!1,C=e,"diapason"!==o&&C.attr("id","irs-active-slider");var s=C.offset().left,n=t.pageX-s;q=s+n-C.position().left,"single"===f.type?Q=c.width()-L:"double"===f.type&&("from"===o?(R=0,$=parseInt(N.css("left"),10)):"to"===o?(R=parseInt(M.css("left"),10),$=c.width()-L):(R=L/2,$=c.width()-L/2-P[0].offsetWidth))},O=function(){var e=M.width(),o=t.data(M[0],"x")||parseInt(M[0].style.left,10)||M.position().left,s=t.data(N[0],"x")||parseInt(N[0].style.left,10)||N.position().left,n=o+e/2,r=s-o;P[0].style.left=n+"px",P[0].style.width=r+"px"},U=function(){var e,o=A-q;if("single"===f.type?(0>o&&(o=0),o>Q&&(o=Q)):"double"===f.type&&(R>o&&(o=R),o>$&&(o=$),O()),t.data(C[0],"x",o),e=Math.round(o),"undefined"!=typeof P&&C[0]===P[0]){var s=Math.round(P[0].offsetWidth),n=Math.round(L/2);C[0].style.left=e+"px",e-=n,o-=n;var r=e+s,i=o+s;M[0].style.left=e+"px",N[0].style.left=r+"px",t.data(M[0],"x",o),t.data(N[0],"x",i)}else C[0].style.left=e+"px";V()},V=function(){var e,o,s={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},n=f.max-f.min;"single"===f.type?(s.fromX=t.data(X[0],"x")||parseInt(X[0].style.left,10)||X.position().left,s.fromPers=s.fromX/G*100,e=n/100*s.fromPers+parseInt(f.min,10),s.fromNumber=Math.round(e/f.step)*f.step,z&&(s.fromNumber=parseInt(s.fromNumber*z,10)/z)):"double"===f.type&&(s.fromX=t.data(M[0],"x")||parseInt(M[0].style.left,10)||M.position().left,s.fromPers=s.fromX/G*100,e=n/100*s.fromPers+parseInt(f.min,10),s.fromNumber=Math.round(e/f.step)*f.step,s.toX=t.data(N[0],"x")||parseInt(N[0].style.left,10)||N.position().left,s.toPers=s.toX/G*100,o=n/100*s.toPers+parseInt(f.min,10),s.toNumber=Math.round(o/f.step)*f.step,z&&(s.fromNumber=parseInt(s.fromNumber*z,10)/z,s.toNumber=parseInt(s.toNumber*z,10)/z)),k=s,Z()},Y=function(){var e={fromNumber:f.from,toNumber:f.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},o=f.max-f.min;"single"===f.type?(e.fromPers=(e.fromNumber-f.min)/o*100,e.fromX_pure=G/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),X[0].style.left=e.fromX+"px",t.data(X[0],"x",e.fromX_pure)):"double"===f.type&&(e.fromPers=(e.fromNumber-f.min)/o*100,e.fromX_pure=G/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),M[0].style.left=e.fromX+"px",t.data(M[0],"x",e.fromX_pure),e.toPers=(e.toNumber-f.min)/o*100,e.toX_pure=G/100*e.toPers,e.toX=Math.round(e.toX_pure),N[0].style.left=e.toX+"px",t.data(N[0],"x",e.toX_pure),O()),k=e,Z()},Z=function(){var t,e,o,s,n,r,i,a,p,l=L/2;"single"===f.type?(f.hideText||(g[0].style.display="none",v[0].style.display="none",i=f.prefix+m(k.fromNumber)+f.postfix,b.html(i),a=b.outerWidth(),p=k.fromX-a/2+l,0>p&&(p=0),p>j-a&&(p=j-a),b[0].style.left=p+"px",f.hideMinMax||f.hideFromTo||(y[0].style.display=S>p?"none":"block",x[0].style.display=p+a>j-E?"none":"block")),u.attr("value",parseInt(k.fromNumber,10))):"double"===f.type&&(f.hideText||(t=f.prefix+m(k.fromNumber)+f.postfix,s=f.prefix+m(k.toNumber)+f.postfix,i=k.fromNumber!==k.toNumber?f.prefix+m(k.fromNumber)+" — "+f.prefix+m(k.toNumber)+f.postfix:f.prefix+m(k.fromNumber)+f.postfix,g.html(t),v.html(s),b.html(i),e=g.outerWidth(),o=k.fromX-e/2+l,0>o&&(o=0),o>j-e&&(o=j-e),g[0].style.left=o+"px",n=v.outerWidth(),r=k.toX-n/2+l,0>r&&(r=0),r>j-n&&(r=j-n),v[0].style.left=r+"px",a=b.outerWidth(),p=k.fromX+(k.toX-k.fromX)/2-a/2+l,0>p&&(p=0),p>j-a&&(p=j-a),b[0].style.left=p+"px",r>o+e?(b[0].style.display="none",g[0].style.display="block",v[0].style.display="block"):(b[0].style.display="block",g[0].style.display="none",v[0].style.display="none"),f.hideMinMax||f.hideFromTo||(y[0].style.display=S>p||S>o?"none":"block",x[0].style.display=p+a>j-E||r+n>j-E?"none":"block")),u.attr("value",parseInt(k.fromNumber,10)+";"+parseInt(k.toNumber,10))),"function"==typeof f.onChange&&f.onChange.call(this,k),"function"!=typeof f.onFinish||T||W||f.onFinish.call(this,k),"function"==typeof f.onLoad&&!T&&W&&f.onLoad.call(this,k)},te=function(){w.addClass("irs-with-grid");var t,e="",o=0,s=0,n="",r=20,i=4;for(t=0;r>=t;t+=1)o=Math.floor(j/r*t),o>=j&&(o=j-1),n+='<span class="irs-grid-pol small" style="left: '+o+'px;"></span>';for(t=0;i>=t;t+=1)o=Math.floor(j/i*t),o>=j&&(o=j-1),n+='<span class="irs-grid-pol" style="left: '+o+'px;"></span>',z?(e=f.min+(f.max-f.min)/i*t,e=e/f.step*f.step,e=parseInt(e*z,10)/z):(e=Math.round(f.min+(f.max-f.min)/i*t),e=Math.round(e/f.step)*f.step,e=m(e)),0===t?(s=o,n+='<span class="irs-grid-text" style="left: '+s+'px; text-align: left;">'+e+"</span>"):t===i?(s=o-100,n+='<span class="irs-grid-text" style="left: '+s+'px; text-align: right;">'+e+"</span>"):(s=o-50,n+='<span class="irs-grid-text" style="left: '+s+'px;">'+e+"</span>");I.html(n)};H()}})},update:function(t){return this.each(function(){this.updateData(t)})},remove:function(){return this.each(function(){this.removeSlider()})}};t.fn.ionRangeSlider=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Method "+e+" does not exist for jQuery.ionRangeSlider"),void 0):a.init.apply(this,arguments)}}(jQuery,document,window,navigator);