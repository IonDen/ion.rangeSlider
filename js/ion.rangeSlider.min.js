(function(e,k,g,l,a){var m=0;var f=(function(){var q=l.userAgent,p=/msie\s\d+/i,o;if(q.search(p)>0){o=p.exec(q).toString();o=o.split(" ")[1];if(o<9){e("html").addClass("lt-ie9");return true}}return false}());if(!Function.prototype.bind){Function.prototype.bind=function i(q){var r=this;var s=[].slice;if(typeof r!="function"){throw new TypeError()}var o=s.call(arguments,1),p=function(){if(this instanceof p){var v=function(){};v.prototype=r.prototype;var u=new v();var t=r.apply(u,o.concat(s.call(arguments)));if(Object(t)===t){return t}return u}else{return r.apply(q,o.concat(s.call(arguments)))}};return p}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(q,r){var p;if(this==null){throw new TypeError('"this" is null or not defined')}var s=Object(this);var o=s.length>>>0;if(o===0){return -1}var t=+r||0;if(Math.abs(t)===Infinity){t=0}if(t>=o){return -1}p=Math.max(t>=0?t:o-Math.abs(t),0);while(p<o){if(p in s&&s[p]===q){return p}p++}return -1}}var h='<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>';var n='<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>';var d='<span class="irs-center"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>';var b='<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>';var c='<span class="irs-disable-mask"></span>';var j=function(o,p,q){this.VERSION="2.0.10";this.input=o;this.plugin_count=q;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.is_key=false;this.is_update=false;this.is_start=true;this.is_active=false;this.is_resize=false;this.is_click=false;this.$cache={win:e(g),body:e(k.body),input:e(o),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,grid:null,grid_labels:[]};var s=this.$cache.input;var r={type:s.data("type"),min:s.data("min"),max:s.data("max"),from:s.data("from"),to:s.data("to"),step:s.data("step"),min_interval:s.data("minInterval"),max_interval:s.data("maxInterval"),drag_interval:s.data("dragInterval"),values:s.data("values"),from_fixed:s.data("fromFixed"),from_min:s.data("fromMin"),from_max:s.data("fromMax"),from_shadow:s.data("fromShadow"),to_fixed:s.data("toFixed"),to_min:s.data("toMin"),to_max:s.data("toMax"),to_shadow:s.data("toShadow"),prettify_enabled:s.data("prettifyEnabled"),prettify_separator:s.data("prettifySeparator"),force_edges:s.data("forceEdges"),keyboard:s.data("keyboard"),keyboard_step:s.data("keyboardStep"),grid:s.data("grid"),grid_margin:s.data("gridMargin"),grid_num:s.data("gridNum"),grid_snap:s.data("gridSnap"),hide_min_max:s.data("hideMinMax"),hide_from_to:s.data("hideFromTo"),prefix:s.data("prefix"),postfix:s.data("postfix"),min_prefix:s.data("minPrefix"),max_postfix:s.data("maxPostfix"),decorate_both:s.data("decorateBoth"),values_separator:s.data("valuesSeparator"),disable:s.data("disable")};r.values=r.values&&r.values.split(",");var t=s.prop("value");if(t){t=t.split(";");if(t[0]&&t[0]==+t[0]){t[0]=+t[0]}if(t[1]&&t[1]==+t[1]){t[1]=+t[1]}if(p&&p.values&&p.values.length){r.from=t[0]&&p.values.indexOf(t[0]);r.to=t[1]&&p.values.indexOf(t[1])}else{r.from=t[0]&&+t[0];r.to=t[1]&&+t[1]}}p=e.extend(r,p);this.options=e.extend({type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:false,keyboard_step:5,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",min_prefix:"",max_postfix:"",decorate_both:true,values_separator:" â€” ",disable:false,onStart:null,onChange:null,onFinish:null,onUpdate:null},p);this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0};this.init()};j.prototype={init:function(o){this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100);this.target="base";this.toggleInput();this.append();this.setMinMax();if(o){this.force_redraw=true;this.calc(true);if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){this.options.onUpdate(this.result)}}else{this.force_redraw=true;this.calc(true);if(this.options.onStart&&typeof this.options.onStart==="function"){this.options.onStart(this.result)}}this.updateScene()},append:function(){var o='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(o);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(h);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(n);this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{if(this.options.type==="balanced"){this.$cache.cont.append(d);this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(b);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.cont.removeClass("irs-disabled");this.$cache.input[0].disabled=false;this.bindEvents()}},setTopHandler:function(){var p=this.options.min,o=this.options.max,r=this.options.from,q=this.options.to;if(r>p&&q===o){this.$cache.s_from.addClass("type_last")}else{if(q<o){this.$cache.s_to.addClass("type_last")}}},appendDisableMask:function(){this.$cache.cont.append(c);this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(f){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"||this.options.type==="balanced"){this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(f){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerMove:function(p){if(!this.dragging){return}var o=p.pageX||p.originalEvent.touches&&p.originalEvent.touches[0].pageX;this.coords.x_pointer=o-this.coords.x_gap;this.calc()},pointerUp:function(p){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}var o=this.options.onFinish&&typeof this.options.onFinish==="function",q=e.contains(this.$cache.cont[0],p.target)||this.dragging;if(o&&q){this.options.onFinish(this.result)}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;this.dragging=false;if(f){e("*").prop("unselectable",false)}this.updateScene()},pointerDown:function(q,p){p.preventDefault();var o=p.pageX||p.originalEvent.touches&&p.originalEvent.touches[0].pageX;if(p.button===2){return}this.current_plugin=this.plugin_count;this.target=q;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=o-this.coords.x_gap;this.calcPointer();switch(q){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from);this.coords.p_gap_right=this.toFixed(this.coords.p_to-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}if(f){e("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(q,p){p.preventDefault();var o=p.pageX||p.originalEvent.touches&&p.originalEvent.touches[0].pageX;if(p.button===2){return}this.current_plugin=this.plugin_count;this.target=q;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(o-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(p,o){if(this.current_plugin!==this.plugin_count||o.altKey||o.ctrlKey||o.shiftKey||o.metaKey){return}switch(o.which){case 83:case 65:case 40:case 37:o.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:o.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(o){var q=this.coords.p_pointer;if(o){q+=this.options.keyboard_step}else{q-=this.options.keyboard_step}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*q);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min));this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},calc:function(u){if(!this.options){return}this.calc_count++;if(this.calc_count===10||u){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);if(this.options.type==="single"||this.options.type==="balanced"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}}if(!this.coords.w_rs){return}this.calcPointer();this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);var s=100-this.coords.p_handle,q=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(this.target==="click"){q=this.toFixed(this.coords.p_pointer-(this.coords.p_handle/2));this.target=this.chooseHandle(q)}if(q<0){q=0}else{if(q>s){q=s}}switch(this.target){case"base":var o=(this.options.max-this.options.min)/100,r=(this.result.from-this.options.min)/o,p=(this.result.to-this.options.min)/o;this.coords.p_single_real=this.toFixed(r);this.coords.p_from_real=this.toFixed(r);this.coords.p_to_real=this.toFixed(p);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single=this.toFixed(r-(this.coords.p_handle/100*r));this.coords.p_from=this.toFixed(r-(this.coords.p_handle/100*r));this.coords.p_to=this.toFixed(p-(this.coords.p_handle/100*p));this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.calcWithStep(q/s*100);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single=this.toFixed(this.coords.p_single_real/100*s);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.calcWithStep(q/s*100);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*s);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.calcWithStep(q/s*100);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*s);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}q=this.toFixed(q+(this.coords.p_handle*0.1));this.coords.p_from_real=this.calcWithStep((q-this.coords.p_gap_left)/s*100);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from=this.toFixed(this.coords.p_from_real/100*s);this.coords.p_to_real=this.calcWithStep((q+this.coords.p_gap_right)/s*100);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to=this.toFixed(this.coords.p_to_real/100*s);break}if(this.options.type==="single"){this.coords.p_bar_x=(this.coords.p_handle/2);this.coords.p_bar_w=this.coords.p_single;this.result.from_percent=this.coords.p_single_real;this.result.from=this.calcReal(this.coords.p_single_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{if(this.options.type==="balanced"){this.result.from_percent=this.coords.p_single_real;this.result.from=this.calcReal(this.coords.p_single_real);if(this.result.from_percent==50){this.coords.p_bar_x=50;this.coords.p_bar_w=0}else{if(this.result.from_percent>50){this.coords.p_bar_x=50;this.coords.p_bar_w=this.result.from_percent-50-this.coords.p_handle/2}else{this.coords.p_bar_x=this.result.from_percent+this.coords.p_handle/2;this.coords.p_bar_w=50-this.result.from_percent-this.coords.p_handle/2}}if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from+(this.coords.p_handle/2));this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from);this.result.from_percent=this.coords.p_from_real;this.result.from=this.calcReal(this.coords.p_from_real);this.result.to_percent=this.coords.p_to_real;this.result.to=this.calcReal(this.coords.p_to_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}}this.calcMinMax();this.calcLabels()},calcPointer:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else{if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},chooseHandle:function(o){if(this.options.type==="single"||this.options.type==="balanced"){return"single"}else{var p=this.coords.p_from_real+((this.coords.p_to_real-this.coords.p_from_real)/2);if(o>=p){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"||this.options.type==="balanced"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single+(this.coords.p_handle/2)-(this.labels.p_single/2);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from+(this.coords.p_handle/2)-(this.labels.p_from/2);this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to+(this.coords.p_handle/2)-(this.labels.p_to/2);this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=((this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2)-(this.labels.p_single/2);this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"||this.options.type==="balanced"){this.$cache.s_single[0].style.left=this.coords.p_single+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value);this.$cache.input.data("from",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from);this.$cache.input.data("from",this.result.from)}}else{this.$cache.s_from[0].style.left=this.coords.p_from+"%";this.$cache.s_to[0].style.left=this.coords.p_to+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+";"+this.result.to_value);this.$cache.input.data("from",this.result.from_value);this.$cache.input.data("to",this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+";"+this.result.to);this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}}if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change")}this.old_from=this.result.from;this.old_to=this.result.to;var p=this.options.onChange&&typeof this.options.onChange==="function"&&!this.is_resize;if(p&&!this.is_update&&!this.is_start){this.options.onChange(this.result)}var o=this.options.onFinish&&typeof this.options.onFinish==="function";if(o&&(this.is_key||this.is_click)){this.options.onFinish(this.result)}this.is_update=false;this.is_resize=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var o=this.options.values.length,p=this.options.p_values,s,q,u;if(this.options.hide_from_to){return}if(this.options.type==="single"||this.options.type==="balanced"){if(o){s=this.decorate(p[this.result.from]);this.$cache.single.html(s)}else{s=this.decorate(this._prettify(this.result.from),this.result.from);this.$cache.single.html(s)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(o){if(this.options.decorate_both){s=this.decorate(p[this.result.from]);s+=this.options.values_separator;s+=this.decorate(p[this.result.to])}else{s=this.decorate(p[this.result.from]+this.options.values_separator+p[this.result.to])}q=this.decorate(p[this.result.from]);u=this.decorate(p[this.result.to]);this.$cache.single.html(s);this.$cache.from.html(q);this.$cache.to.html(u)}else{if(this.options.decorate_both){s=this.decorate(this._prettify(this.result.from),this.result.from);s+=this.options.values_separator;s+=this.decorate(this._prettify(this.result.to),this.result.to)}else{s=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to)}q=this.decorate(this._prettify(this.result.from),this.result.from);u=this.decorate(this._prettify(this.result.to),this.result.to);this.$cache.single.html(s);this.$cache.from.html(q);this.$cache.to.html(u)}this.calcLabels();var r=Math.min(this.labels.p_single_left,this.labels.p_from_left),v=this.labels.p_single_left+this.labels.p_single,w=this.labels.p_to_left+this.labels.p_to,t=Math.max(v,w);if(this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){this.$cache.from[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden";t=w}else{this.$cache.from[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";t=Math.max(v,w)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(r<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(t>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var s=this.options,u=this.$cache,v=typeof s.from_min==="number"&&!isNaN(s.from_min),p=typeof s.from_max==="number"&&!isNaN(s.from_max),x=typeof s.to_min==="number"&&!isNaN(s.to_min),r=typeof s.to_max==="number"&&!isNaN(s.to_max),w,q,t,y;if(s.type==="single"||s.type==="balanced"){if(s.from_shadow&&(v||p)){w=this.calcPercent(s.from_min||s.min);q=this.calcPercent(s.from_max||s.max)-w;w=this.toFixed(w-(this.coords.p_handle/100*w));q=this.toFixed(q-(this.coords.p_handle/100*q));w=w+(this.coords.p_handle/2);u.shad_single[0].style.display="block";u.shad_single[0].style.left=w+"%";u.shad_single[0].style.width=q+"%"}else{u.shad_single[0].style.display="none"}}else{if(s.from_shadow&&(v||p)){w=this.calcPercent(s.from_min||s.min);q=this.calcPercent(s.from_max||s.max)-w;w=this.toFixed(w-(this.coords.p_handle/100*w));q=this.toFixed(q-(this.coords.p_handle/100*q));w=w+(this.coords.p_handle/2);u.shad_from[0].style.display="block";u.shad_from[0].style.left=w+"%";u.shad_from[0].style.width=q+"%"}else{u.shad_from[0].style.display="none"}if(s.to_shadow&&(x||r)){t=this.calcPercent(s.to_min||s.min);y=this.calcPercent(s.to_max||s.max)-t;t=this.toFixed(t-(this.coords.p_handle/100*t));y=this.toFixed(y-(this.coords.p_handle/100*y));t=t+(this.coords.p_handle/2);u.shad_to[0].style.display="block";u.shad_to[0].style.left=t+"%";u.shad_to[0].style.width=y+"%"}else{u.shad_to[0].style.display="none"}}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},calcPercent:function(p){var o=(this.options.max-this.options.min)/100,q=(p-this.options.min)/o;return this.toFixed(q)},calcReal:function(u){var r=this.options.min,w=this.options.max,q=r.toString().split(".")[1],v=w.toString().split(".")[1],o,x,s=0,z=0;if(q){o=q.length;s=o}if(v){x=v.length;s=x}if(o&&x){s=(o>=x)?o:x}if(r<0){z=Math.abs(r);r=+(r+z).toFixed(s);w=+(w+z).toFixed(s)}var p=((w-r)/100*u)+r,t=this.options.step.toString().split(".")[1],y;if(t){if(p!==r&&p!==w){p=+p.toFixed(t.length)}else{p=+p.toFixed(s)}}else{p=p/this.options.step;p=p*this.options.step;p=+p.toFixed(0)}if(z){p-=z;r=this.options.min;w=this.options.max}if(t){if(p!==r&&p!==w){y=+p.toFixed(t.length)}else{y=+p.toFixed(s)}}else{y=this.toFixed(p)}if(y<this.options.min){y=this.options.min}else{if(y>this.options.max){y=this.options.max}}return y},calcWithStep:function(p){var o=Math.round(p/this.coords.p_step)*this.coords.p_step;if(o>100){o=100}if(p===100){o=100}return this.toFixed(o)},checkMinInterval:function(s,p,r){var u=this.options,t,q;if(!u.min_interval){return s}t=this.calcReal(s);q=this.calcReal(p);if(r==="from"){if(q-t<u.min_interval){t=q-u.min_interval}}else{if(t-q<u.min_interval){t=q+u.min_interval}}return this.calcPercent(t)},checkMaxInterval:function(s,p,r){var u=this.options,t,q;if(!u.max_interval){return s}t=this.calcReal(s);q=this.calcReal(p);if(r==="from"){if(q-t>u.max_interval){t=q-u.max_interval}}else{if(t-q>u.max_interval){t=q+u.max_interval}}return this.calcPercent(t)},checkDiapason:function(s,r,p){var q=this.calcReal(s),t=this.options;if(!r||typeof r!=="number"){r=t.min}if(!p||typeof p!=="number"){p=t.max}if(q<r){q=r}if(q>p){q=p}return this.calcPercent(q)},toFixed:function(o){o=o.toFixed(5);return +o},_prettify:function(o){if(!this.options.prettify_enabled){return o}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(o)}else{return this.prettify(o)}},prettify:function(o){var p=o.toString();return p.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(p,o){if(!this.options.force_edges){return this.toFixed(p)}if(p<0){p=0}else{if(p>100-o){p=100-o}}return this.toFixed(p)},validate:function(){var w=this.options,t=this.result,p=w.values,s=p.length,u,q;if(typeof w.min==="string"){w.min=+w.min}if(typeof w.max==="string"){w.max=+w.max}if(typeof w.from==="string"){w.from=+w.from}if(typeof w.to==="string"){w.to=+w.to}if(typeof w.step==="string"){w.step=+w.step}if(typeof w.from_min==="string"){w.from_min=+w.from_min}if(typeof w.from_max==="string"){w.from_max=+w.from_max}if(typeof w.to_min==="string"){w.to_min=+w.to_min}if(typeof w.to_max==="string"){w.to_max=+w.to_max}if(typeof w.keyboard_step==="string"){w.keyboard_step=+w.keyboard_step}if(typeof w.grid_num==="string"){w.grid_num=+w.grid_num}if(w.max<=w.min){if(w.min){w.max=w.min*2}else{w.max=w.min+1}w.step=1}if(s){w.p_values=[];w.min=0;w.max=s-1;w.step=1;w.grid_num=w.max;w.grid_snap=true;for(q=0;q<s;q++){u=+p[q];if(!isNaN(u)){p[q]=u;u=this._prettify(u)}else{u=p[q]}w.p_values.push(u)}}if(typeof w.from!=="number"||isNaN(w.from)){w.from=w.min}if(typeof w.to!=="number"||isNaN(w.from)){w.to=w.max}if(w.type==="single"||w.type==="balanced"){if(w.from<w.min){w.from=w.min}if(w.from>w.max){w.from=w.max}}else{if(w.from<w.min||w.from>w.max){w.from=w.min}if(w.to>w.max||w.to<w.min){w.to=w.max}if(w.from>w.to){w.from=w.to}}if(typeof w.step!=="number"||isNaN(w.step)||!w.step||w.step<0){w.step=1}if(typeof w.keyboard_step!=="number"||isNaN(w.keyboard_step)||!w.keyboard_step||w.keyboard_step<0){w.keyboard_step=5}if(w.from_min&&w.from<w.from_min){w.from=w.from_min}if(w.from_max&&w.from>w.from_max){w.from=w.from_max}if(w.to_min&&w.to<w.to_min){w.to=w.to_min}if(w.to_max&&w.from>w.to_max){w.to=w.to_max}if(t){if(t.min!==w.min){t.min=w.min}if(t.max!==w.max){t.max=w.max}if(t.from<t.min||t.from>t.max){t.from=w.from}if(t.to<t.min||t.to>t.max){t.to=w.to}}if(typeof w.min_interval!=="number"||isNaN(w.min_interval)||!w.min_interval||w.min_interval<0){w.min_interval=0}if(typeof w.max_interval!=="number"||isNaN(w.max_interval)||!w.max_interval||w.max_interval<0){w.max_interval=0}if(w.min_interval&&w.min_interval>w.max-w.min){w.min_interval=w.max-w.min}if(w.max_interval&&w.max_interval>w.max-w.min){w.max_interval=w.max-w.min}},decorate:function(p,q){var r="",s=this.options;if(s.min_prefix){if(p===s.p_values[s.min]){r+=s.min_prefix;if(s.postfix){r+=" "}}else{if(q===s.min){r+=s.min_prefix;if(s.postfix){r+=" "}}}}if(s.prefix){r+=s.prefix}r+=p;if(s.max_postfix){if(s.values.length&&p===s.p_values[s.max]){r+=s.max_postfix;if(s.postfix){r+=" "}}else{if(q===s.max){r+=s.max_postfix;if(s.postfix){r+=" "}}}}if(s.postfix){r+=s.postfix}return r},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.calcPercent(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.calcPercent(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var p=this.options,r,x,y=p.max-p.min,C=p.grid_num,u=0,q=0,t=4,w,A,v=0,B,s="";this.calcGridMargin();if(p.grid_snap){C=y/p.step;u=this.toFixed(p.step/(y/100))}else{u=this.toFixed(100/C)}if(C>4){t=3}if(C>7){t=2}if(C>14){t=1}if(C>28){t=0}for(r=0;r<C+1;r++){w=t;q=this.toFixed(u*r);if(q>100){q=100;w-=2;if(w<0){w=0}}this.coords.big[r]=q;A=(q-(u*(r-1)))/(w+1);for(x=1;x<=w;x++){if(q===0){break}v=this.toFixed(q-(A*x));s+='<span class="irs-grid-pol small" style="left: '+v+'%"></span>'}s+='<span class="irs-grid-pol" style="left: '+q+'%"></span>';B=this.calcReal(q);if(p.values.length){B=p.p_values[B]}else{B=this._prettify(B)}s+='<span class="irs-grid-text js-grid-text-'+r+'" style="left: '+q+'%">'+B+"</span>"}this.coords.big_num=Math.ceil(C+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(s);this.cacheGridLabels()},cacheGridLabels:function(){var o,q,p=this.coords.big_num;for(q=0;q<p;q++){o=this.$cache.grid.find(".js-grid-text-"+q);this.$cache.grid_labels.push(o)}this.calcGridLabels()},calcGridLabels:function(){var r,p,s=[],q=[],o=this.coords.big_num;for(r=0;r<o;r++){this.coords.big_w[r]=this.$cache.grid_labels[r].outerWidth(false);this.coords.big_p[r]=this.toFixed(this.coords.big_w[r]/this.coords.w_rs*100);this.coords.big_x[r]=this.toFixed(this.coords.big_p[r]/2);s[r]=this.toFixed(this.coords.big[r]-this.coords.big_x[r]);q[r]=this.toFixed(s[r]+this.coords.big_p[r])}if(this.options.force_edges){if(s[0]<-this.coords.grid_gap){s[0]=-this.coords.grid_gap;q[0]=this.toFixed(s[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(q[o-1]>100+this.coords.grid_gap){q[o-1]=100+this.coords.grid_gap;s[o-1]=this.toFixed(q[o-1]-this.coords.big_p[o-1]);this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap)}}this.calcGridCollision(2,s,q);this.calcGridCollision(4,s,q);for(r=0;r<o;r++){p=this.$cache.grid_labels[r][0];p.style.marginLeft=-this.coords.big_x[r]+"%"}},calcGridCollision:function(t,u,s){var r,o,q,p=this.coords.big_num;for(r=0;r<p;r+=t){o=r+(t/2);if(o>=p){break}q=this.$cache.grid_labels[o][0];if(s[r]<=u[o]){q.style.visibility="visible"}else{q.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"||this.options.type==="balanced"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed((this.coords.p_handle/2)-0.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(o){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.options=e.extend(this.options,o);this.validate();this.updateResult(o);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);e.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};e.fn.ionRangeSlider=function(o){return this.each(function(){if(!e.data(this,"ionRangeSlider")){e.data(this,"ionRangeSlider",new j(this,o,m++))}})};(function(){var p=0;var q=["ms","moz","webkit","o"];for(var o=0;o<q.length&&!g.requestAnimationFrame;++o){g.requestAnimationFrame=g[q[o]+"RequestAnimationFrame"];g.cancelAnimationFrame=g[q[o]+"CancelAnimationFrame"]||g[q[o]+"CancelRequestAnimationFrame"]}if(!g.requestAnimationFrame){g.requestAnimationFrame=function(v,s){var r=new Date().getTime();var t=Math.max(0,16-(r-p));var u=g.setTimeout(function(){v(r+t)},t);p=r+t;return u}}if(!g.cancelAnimationFrame){g.cancelAnimationFrame=function(r){clearTimeout(r)}}}())}(jQuery,document,window,navigator));